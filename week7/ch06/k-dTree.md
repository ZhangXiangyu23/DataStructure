### k-d树

#### **创建k-d树**

有很多种方法可以选择轴垂直分割面，所以有很多种创建*k*-d树的方法。 最典型的方法如下：

- 随着树的深度轮流选择轴当作分割面。（例如：在三维空间中根节点是 x 轴垂直分割面，其子节点皆为 y 轴垂直分割面，其孙节点皆为 z 轴垂直分割面，其曾孙节点则皆为 x 轴垂直分割面，依此类推。）
- 点由垂直分割面之轴座标的中位数区分并放入子树

这个方法产生一个平衡的*k*-d树。每个叶节点的高度都十分接近。然而，平衡的树不一定对每个应用都是最佳的。 

#### **最邻近搜索**

最邻近搜索用来找出在树中与输入点最接近的点。

k-d树最邻近搜索的过程如下：

1. 从根节点开始，递归的往下移。往左还是往右的决定方法与插入元素的方法一样(如果输入点在分区面的左边则进入左子节点，在右边则进入右子节点)。

2. 一旦移动到叶节点，将该节点当作"当前最佳点"。

3. 解开递归，并对每个经过的节点运行下列步骤：

4. 1. 如果当前所在点比当前最佳点更靠近输入点，则将其变为当前最佳点。
   2. 检查另一边子树有没有更近的点，如果有则从该节点往下找。

5. 当根节点搜索完毕后完成最邻近搜索。